<%= stylesheet_link_tag "login", "data-turbo-track": "reload" %>
<body class="justify-content-center align-items-center">
  <div class="section pb-5 pt-5 pt-sm-2 text-center">
    <h6 class="mb-0 pb-3"><span>Log In </span><span>Sign Up</span></h6>
    <input class="checkbox" type="checkbox" id="reg-log" name="reg-log" />
    <label for="reg-log"></label>
    <div class="card-3d-wrap mx-auto">
      <div class="card-3d-wrapper">
        <!-- Login Form -->
        <div class="card-front">
          <div class="center-wrap">
            <div class="section text-center">
              <img src="/images/icons8-hamburger-96.png" width="64" height="64" >
              <h4 class="mb-4 pb-3">Log In</h4>
              <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
                <div class="form-group">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-style", placeholder: "Your Email" %>
                  <i class="input-icon fa fa-envelope"></i>
                </div>
                <div class="form-group mt-2">
                  <%= f.password_field :password, autocomplete: "current-password", class: "form-style", placeholder: "Your Password" %>
                  <i class="input-icon fa fa-lock"></i>
                </div>
                <div class="form-group mt-4">
                  <%= f.submit "Submit", class: "btn mt-4" %>
                </div>
              <% end %>
              <p class="mb-2 mt-4 text-center">
                <%= link_to "Forgot your password?", new_password_path(resource_name),id: "forget", class: "text-decoration-none forget" %>
              </p>
            </div>
          </div>
        </div>
        <!-- Sign Up Form -->
        <div class="card-back">
          <div class="center-wrap">
            <div class="section text-center">
              <h4 class="mb-4 pb-3">Sign Up</h4>
              <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
                <div class="form-group">
                  <%= f.text_field :username, autofocus: true, class: "form-style", placeholder: "Username" %>
                  <i class="input-icon fa fa-user"></i>
                </div>
                <div class="form-group mt-2">
                  <%= f.email_field :email, class: "form-style", placeholder: "Your Email", autocomplete: "email" %>
                  <i class="input-icon fa fa-envelope"></i>
                </div>
                <div class="form-group mt-2">
                  <%= f.password_field :password, class: "form-style", placeholder: "Your Password", autocomplete: "new-password" %>
                  <i class="input-icon fa fa-lock"></i>
                </div>
                <div class="form-group mt-2">
                  <%= f.password_field :password_confirmation, class: "form-style", placeholder: "Confirm Your Password", autocomplete: "new-password" %>
                  <i class="input-icon fa fa-lock"></i>
                </div>
                <div class="form-group mt-4">
                  <%= f.submit "Submit", class: "btn mt-4" %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  document.addEventListener("DOMContentLoaded", function() {
  const inputs = document.querySelectorAll('.form-group input');

  inputs.forEach(input => {
    input.addEventListener('input', function() {
      const icon = this.parentNode.querySelector('.input-icon');
      if (this.value.trim() !== "") {
        icon.classList.add('filled');
      } else {
        icon.classList.remove('filled');
      }
    });

    // Verifique o valor inicial para definir a classe corretamente se o campo estiver pr√©-preenchido
    if (input.value.trim() !== "") {
      const icon = input.parentNode.querySelector('.input-icon');
      icon.classList.add('filled');
    }
  });
});

</script>